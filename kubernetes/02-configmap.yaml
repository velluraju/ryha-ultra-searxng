apiVersion: v1
kind: ConfigMap
metadata:
  name: searxng-config
  namespace: ryha-searxng
  labels:
    app: ryha-ultra-searxng
    component: config
data:
  settings.yml: |
    # RYHA AI - Ultra-Fast Advanced Anti-Captcha SearXNG
    # Kubernetes Production Configuration
    # Repository: https://github.com/velluraju/ryha-ultra-searxng
    use_default_settings: true

    general:
      instance_name: 'RYHA AI Ultra-Fast Search Engine'
      debug: false
      enable_metrics: true

    search:
      safe_search: 0
      autocomplete: 'google'
      default_lang: 'auto'
      max_page: 4
      formats:
        - html
        - json
      languages:
        - 'en'
        - 'auto'

    server:
      secret_key: 'ryha-ai-ultra-fast-kubernetes-2024-advanced-anti-captcha'
      limiter: false
      image_proxy: true
      bind_address: '0.0.0.0'
      port: 8080
      http_protocol_version: '1.1'
      public_instance: false

    ui:
      default_locale: 'en'
      query_in_title: true
      infinite_scroll: false
      default_theme: 'simple'
      center_alignment: true
      hotkeys: 'vim'

    # Ultra-fast performance settings (Production optimized)
    outgoing:
      request_timeout: 4.0
      max_request_timeout: 8.0
      useragent_suffix: 'RYHA-AI-Ultra-Fast-Kubernetes'
      enable_http2: true
      pool_connections: 300
      pool_maxsize: 60
      retries: 2
      extra_proxy_timeout: 6.0
      # Advanced anti-captcha headers
      default_http_headers:
        User-Agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'
        Accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8'
        Accept-Language: 'en-US,en;q=0.5'
        Accept-Encoding: 'gzip, deflate, br'
        Connection: 'keep-alive'
        Upgrade-Insecure-Requests: '1'
        Sec-Fetch-Dest: 'document'
        Sec-Fetch-Mode: 'navigate'
        Sec-Fetch-Site: 'none'

    # ADVANCED SEARCH ENGINES - ANTI-CAPTCHA OPTIMIZED
    engines:
      # PRIMARY WEB SEARCH (Ultra-Fast Core)
      - name: google
        weight: 3.0
        timeout: 3.5
        disabled: false
        
      - name: bing
        weight: 2.8
        timeout: 2.5
        disabled: false
        
      - name: duckduckgo
        weight: 2.5
        timeout: 2.5
        disabled: false
        
      - name: startpage
        weight: 2.2
        timeout: 4.0
        disabled: false
        
      - name: brave
        weight: 2.0
        timeout: 2.5
        disabled: false
        
      - name: qwant
        weight: 1.8
        timeout: 3.0
        disabled: false
        
      - name: mojeek
        weight: 1.5
        timeout: 2.5
        disabled: false
        
      - name: yandex
        weight: 1.3
        timeout: 3.0
        disabled: false
        
      - name: yahoo
        weight: 1.2
        timeout: 3.5
        disabled: false

      # IMAGE SEARCH (Professional Grade)
      - name: google images
        categories: ['images']
        weight: 3.0
        timeout: 3.0
        disabled: false
        
      - name: bing images
        categories: ['images']
        weight: 2.8
        timeout: 2.5
        disabled: false
        
      - name: flickr
        categories: ['images']
        weight: 1.8
        timeout: 3.0
        disabled: false
        
      - name: unsplash
        categories: ['images']
        weight: 1.6
        timeout: 2.5
        disabled: false
        
      - name: pixabay
        categories: ['images']
        weight: 1.4
        timeout: 3.0
        disabled: false
        
      - name: wikimedia commons
        categories: ['images']
        weight: 1.2
        timeout: 2.5
        disabled: false

      # VIDEO SEARCH (Premium)
      - name: youtube
        categories: ['videos']
        weight: 3.0
        timeout: 4.0
        disabled: false
        
      - name: vimeo
        categories: ['videos']
        weight: 1.8
        timeout: 3.5
        disabled: false
        
      - name: dailymotion
        categories: ['videos']
        weight: 1.5
        timeout: 3.5
        disabled: false
        
      - name: peertube
        categories: ['videos']
        weight: 1.0
        timeout: 4.0
        disabled: false

      # NEWS SEARCH (Real-Time)
      - name: google news
        categories: ['news']
        weight: 2.8
        timeout: 2.5
        disabled: false
        
      - name: bing news
        categories: ['news']
        weight: 2.5
        timeout: 2.5
        disabled: false
        
      - name: yahoo news
        categories: ['news']
        weight: 1.8
        timeout: 3.0
        disabled: false
        
      - name: reddit
        categories: ['news', 'social media']
        weight: 1.5
        timeout: 3.0
        disabled: false

      # ACADEMIC & SCIENTIFIC
      - name: arxiv
        categories: ['science']
        weight: 2.5
        timeout: 4.0
        disabled: false
        
      - name: crossref
        categories: ['science']
        weight: 2.2
        timeout: 5.0
        disabled: false
        
      - name: wikipedia
        weight: 2.5
        timeout: 1.5
        disabled: false
        
      - name: wikidata
        weight: 1.5
        timeout: 2.0
        disabled: false

      # TECHNOLOGY & DEVELOPMENT
      - name: github
        categories: ['it']
        weight: 2.8
        timeout: 3.0
        disabled: false
        
      - name: stackoverflow
        categories: ['it']
        weight: 2.5
        timeout: 2.5
        disabled: false
        
      - name: codeberg
        categories: ['it']
        weight: 1.5
        timeout: 3.0
        disabled: false
        
      - name: gitlab
        categories: ['it']
        weight: 1.3
        timeout: 3.0
        disabled: false

      # MAPS & LOCATION
      - name: openstreetmap
        categories: ['map']
        weight: 2.0
        timeout: 3.0
        disabled: false

      # MUSIC & ENTERTAINMENT
      - name: soundcloud
        categories: ['music']
        weight: 1.8
        timeout: 3.0
        disabled: false

      # FILES & DOCUMENTS
      - name: internet archive
        categories: ['files']
        weight: 1.5
        timeout: 5.0
        disabled: false

      # SHOPPING & E-COMMERCE
      - name: amazon
        categories: ['shopping']
        weight: 1.8
        timeout: 4.0
        disabled: false

      # Additional High-Performance Engines
      - name: searx
        weight: 1.5
        timeout: 3.0
        disabled: false

    # Performance optimizations
    brand:
      new_issue_url: false
      docs_url: false
      public_instances: false
      wiki_url: false
      issue_url: false

    # Disable unnecessary features for maximum performance
    enabled_plugins: []
    disabled_plugins:
      - 'Hash plugin'
      - 'Search on category select'
      - 'Tracker URL remover'